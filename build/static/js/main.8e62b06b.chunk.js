(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),i=(a(11),a(2)),u=a(3),o=a.n(u),m=(a(13),a(1)),s=a.n(m);var d=function(e){var t=e.handleSubmit,a=e.setFrom,n=e.setUntil;return l.a.createElement("div",null,l.a.createElement("form",{name:"time",onSubmit:t},l.a.createElement("div",null,l.a.createElement("b",null,"Set Active Time (Leave blank to set permanent)")),l.a.createElement("label",null,"From: ",l.a.createElement("input",{type:"text",name:"from",placeholder:"07-25-2020 08:00 PDT",onChange:function(e){return a(e.target.value)}})),l.a.createElement("label",null,"Until: ",l.a.createElement("input",{type:"text",name:"until",placeholder:"08-20-2020 15:00 PDT",onChange:function(e){return n(e.target.value)}})),l.a.createElement("input",{type:"submit",value:"Submit Change"})))},p=function(){var e=Object(n.useState)(localStorage.getItem("rules_app_id")||"appID"),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(localStorage.getItem("rules_api_key")||"API_KEY"),u=Object(i.a)(c,2),m=u[0],p=u[1],E=Object(n.useState)(localStorage.getItem("rules_index_name")||"products_staging"),b=Object(i.a)(E,2),v=b[0],f=b[1],h=Object(n.useState)([]),g=Object(i.a)(h,2),I=g[0],S=g[1],j=Object(n.useState)(""),x=Object(i.a)(j,2),y=x[0],_=x[1],D=Object(n.useState)(""),O=Object(i.a)(D,2),N=O[0],C=O[1],k=Object(n.useState)(""),w=Object(i.a)(k,2),A=w[0],U=w[1];function P(e){e.preventDefault();var t=o()(a,m).initIndex(v);if("time"===e.target.name){var n={objectID:y.objectID,condition:y.condition,consequence:y.consequence,description:y.description};N&&A&&(n.validity=[{from:s()(N).unix(),until:s()(A).unix()}]),t.saveRule(n).then(function(e){n.validity?alert("Saving rule ".concat(y.objectID," valid from ").concat(s()(N).local().format("llll")," until ").concat(s()(A).local().format("llll"))):alert("Saving rule ".concat(y.objectID," as always on rule"))}).catch(function(e){return alert(e.message)})}}return l.a.createElement("div",null,l.a.createElement("header",{className:"header"},l.a.createElement("h1",{className:"header-title"},l.a.createElement("a",{href:"/"},"rules-time")),l.a.createElement("div",{className:"input-container"},"AppID:",l.a.createElement("input",{type:"text",name:"appID",placeholder:a,onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"input-container"},"WRITE or ADMIN API_KEY:",l.a.createElement("input",{type:"text",name:"API_KEY",placeholder:m,onChange:function(e){return p(e.target.value)}})),l.a.createElement("div",{className:"input-container"},"indexName:",l.a.createElement("input",{type:"text",name:"indexName",placeholder:v,onChange:function(e){return f(e.target.value)}}))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"search-panel"},l.a.createElement("div",{className:"search-panel__results"},l.a.createElement("form",{name:"query",onSubmit:P},l.a.createElement("label",null,l.a.createElement("b",null,"Search for Rule:"),l.a.createElement("input",{type:"text",name:"query",placeholder:"Search for contexts, descriptions, or strategies",onChange:function(e){""===e.target.value?(_(""),S([])):_(""),o()(a,m).initIndex(v).searchRules(e.target.value).then(function(e){var t=e.hits;S(t)}).catch(function(e){alert(e.message)})}}))),I.map(function(e,t){return l.a.createElement("button",{className:"rule-button",name:"rule",key:t,onClick:function(){return function(e){_(e),S([e]),localStorage.setItem("rules_app_id",a),localStorage.setItem("rules_api_key",m),localStorage.setItem("rules_index_name",v)}(e)}},l.a.createElement("div",null,l.a.createElement("b",null,"objectID:")," ",e.objectID),l.a.createElement("div",null,l.a.createElement("b",null,"Description:")," ",e.description||0),function(e){return e.validity?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Active From:")," ",s.a.unix(e.validity[0].from).format("llll")),l.a.createElement("div",null," ",l.a.createElement("b",null,"Until:")," ",s.a.unix(e.validity[0].until).format("llll"))):""}(e),l.a.createElement("div",null,l.a.createElement("b",null,"Last Updated:")," ",s.a.unix(e._metadata.lastUpdate).format("llll")||0))}),y?l.a.createElement(d,{setFrom:C.bind(this),setUntil:U.bind(this),handleSubmit:P.bind(this)}):""))))};c.a.render(l.a.createElement(p,null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(16)}},[[6,2,1]]]);
//# sourceMappingURL=main.8e62b06b.chunk.js.map